<template>
    <!-- Tile matching the Rules page design exactly -->
    <div class="rules-tile">
        <div class="tile-icon">
            <lightning-icon icon-name="custom:custom63" size="medium"></lightning-icon>
        </div>
        <div class="tile-separator"></div>
        <div class="tile-content">
            <h3 class="tile-title">CML Deployment</h3>
            <p class="tile-description">
                Available snippets: {snippetCount}
            </p>
            
            <template if:false={pcmAllExists}>
                <div class="slds-notify slds-notify_alert slds-alert_warning slds-m-top_small" role="alert">
                    <span class="slds-assistive-text">warning</span>
                    <h2 class="slds-text-body_small">
                        <lightning-icon icon-name="utility:warning" alternative-text="Warning" size="x-small" class="slds-m-right_x-small"></lightning-icon>
                        PCM_All ExpressionSet not found in this org.
                    </h2>
                </div>
            </template>
            
            <div class="button-container">
                <lightning-button
                    variant="brand"
                    label="Deploy CML"
                    title="Deploy CML from snippets"
                    onclick={handleGenerateCML}
                    disabled={isGenerating}
                    icon-name="utility:refresh"
                ></lightning-button>
            </div>
            
            <template if:true={isGenerating}>
                <div class="slds-m-top_small slds-text-align_center">
                    <lightning-spinner alternative-text="Deploying CML..." size="small"></lightning-spinner>
                    <p class="slds-text-body_small slds-m-top_small">Deploying CML...</p>
                </div>
            </template>
        </div>
    </div>
</template>
